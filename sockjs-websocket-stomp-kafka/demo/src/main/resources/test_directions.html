<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <meta charset="utf-8" />
    <title>Directions Service</title>
    <style>
    #map {
      height: 100vh;
      width: 100%;
    }
  </style>
</head>
<body>
<div id="map"></div>
<script>
  let map;
  function initMap() {
    map = new google.maps.Map(document.getElementById("map"), {
      zoom: 8,
      center: { lat: 19.07596, lng: 72.87764 },
    });

    var directionsService = new google.maps.DirectionsService();

var locations = [
  { start: new google.maps.LatLng(40.0082, 28.9784), end: new google.maps.LatLng(41.0055, 29.0121) }, // İstanbul
     { start: new google.maps.LatLng(40.7128, -74.0060), end: new google.maps.LatLng(34.0522, -118.2437) },// New York City
       { start: new google.maps.LatLng(45.7128, -74.0060), end: new google.maps.LatLng(35.0522, -118.2437) }
      // Diğer başlangıç ve bitiş noktalarını buraya ekleyin
    ];

    var rendererOptions = {
      map: map
    };

    for (var i = 0; i < locations.length; i++) {
      var directionsRenderer = new google.maps.DirectionsRenderer(rendererOptions);

      var request = {
        origin: locations[i].start,
        destination: locations[i].end,
        travelMode: "DRIVING"
      };


directionsService.route(request, function (result, status) {
  if (status == "OK") {
    const steps = result.routes[0].overview_polyline;
    directionsRenderer.setDirections(result);
    const decodedPath = google.maps.geometry.encoding.decodePath(result.routes[0].overview_polyline);
    console.log(result.routes[0].overview_polyline);
    console.log(decodedPath);
    stompClient.send('/app/sendLocation', {}, JSON.stringify(data));
  }

});
    }



  }



</script>
<script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDYZZ8iVmfZS5diM-pOFXL__2wG2YdtbQ4&callback=initMap">
</script>
</body>
</html>
